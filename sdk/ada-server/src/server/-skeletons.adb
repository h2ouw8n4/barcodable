--  Barcodable.com API
--  Barcodable.com API
--
--  OpenAPI spec version: 1.5.0
--  Contact: support@barcodable.com
--
--  NOTE: This package is auto generated by the swagger code generator 4.0.0-beta2.
--  https://openapi-generator.tech
--  Do not edit the class manually.
with Swagger.Streams;
with Swagger.Servers.Operation;
package body .Skeletons is

   package body Skeleton is


      package API_Convert_Code is
         new Swagger.Servers.Operation (Handler => Convert_Code,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/convert/{upc | ean | asin}");

      --  Convert between UPC, EAN, and ASIN product codes.
      procedure Convert_Code
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Impl : Implementation_Type;
         Upc _Pipe ean _Pipe asin : Swagger.UString;
         Result : .Models.InlineResponse200Type;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Upc _Pipe ean _Pipe asin);
         Impl.Convert_Code
            (Upc _Pipe ean _Pipe asin, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Convert_Code;

      package API_Get_Item_By_A_S_I_N is
         new Swagger.Servers.Operation (Handler => Get_Item_By_A_S_I_N,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/asin/{asin}");

      --  Find item by asin code
      procedure Get_Item_By_A_S_I_N
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Impl : Implementation_Type;
         Asin : Swagger.UString;
         Result : .Models.ItemType;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Asin);
         Impl.Get_Item_By_A_S_I_N
            (Asin, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Get_Item_By_A_S_I_N;

      package API_Get_Item_By_E_A_N is
         new Swagger.Servers.Operation (Handler => Get_Item_By_E_A_N,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/ean/{ean}");

      --  Find item by UPC code
      procedure Get_Item_By_E_A_N
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Impl : Implementation_Type;
         Ean : Swagger.UString;
         Result : .Models.ItemType;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Ean);
         Impl.Get_Item_By_E_A_N
            (Ean, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Get_Item_By_E_A_N;

      package API_Get_Item_By_U_P_C is
         new Swagger.Servers.Operation (Handler => Get_Item_By_U_P_C,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/upc/{upc}");

      --  Find item by UPC code
      procedure Get_Item_By_U_P_C
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Impl : Implementation_Type;
         Upc : Swagger.UString;
         Result : .Models.ItemType;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Upc);
         Impl.Get_Item_By_U_P_C
            (Upc, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Get_Item_By_U_P_C;

      procedure Register (Server : in out Swagger.Servers.Application_Type'Class) is
      begin
         Swagger.Servers.Register (Server, API_Convert_Code.Definition);
         Swagger.Servers.Register (Server, API_Get_Item_By_A_S_I_N.Definition);
         Swagger.Servers.Register (Server, API_Get_Item_By_E_A_N.Definition);
         Swagger.Servers.Register (Server, API_Get_Item_By_U_P_C.Definition);
      end Register;

   end Skeleton;

   package body Shared_Instance is


      --  Convert between UPC, EAN, and ASIN product codes.
      procedure Convert_Code
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Upc _Pipe ean _Pipe asin : Swagger.UString;
         Result : .Models.InlineResponse200Type;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Upc _Pipe ean _Pipe asin);
         Server.Convert_Code
            (Upc _Pipe ean _Pipe asin, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Convert_Code;

      package API_Convert_Code is
         new Swagger.Servers.Operation (Handler => Convert_Code,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/convert/{upc | ean | asin}");

      --  Find item by asin code
      procedure Get_Item_By_A_S_I_N
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Asin : Swagger.UString;
         Result : .Models.ItemType;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Asin);
         Server.Get_Item_By_A_S_I_N
            (Asin, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Get_Item_By_A_S_I_N;

      package API_Get_Item_By_A_S_I_N is
         new Swagger.Servers.Operation (Handler => Get_Item_By_A_S_I_N,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/asin/{asin}");

      --  Find item by UPC code
      procedure Get_Item_By_E_A_N
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Ean : Swagger.UString;
         Result : .Models.ItemType;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Ean);
         Server.Get_Item_By_E_A_N
            (Ean, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Get_Item_By_E_A_N;

      package API_Get_Item_By_E_A_N is
         new Swagger.Servers.Operation (Handler => Get_Item_By_E_A_N,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/ean/{ean}");

      --  Find item by UPC code
      procedure Get_Item_By_U_P_C
         (Req     : in out Swagger.Servers.Request'Class;
          Reply   : in out Swagger.Servers.Response'Class;
          Stream  : in out Swagger.Servers.Output_Stream'Class;
          Context : in out Swagger.Servers.Context_Type) is
         Upc : Swagger.UString;
         Result : .Models.ItemType;
      begin
         Swagger.Servers.Get_Path_Parameter (Req, 1, Upc);
         Server.Get_Item_By_U_P_C
            (Upc, Result, Context);
         if Context.Get_Status = 200 then
            Stream.Start_Document;
            .Models.Serialize (Stream, "", Result);
            Stream.End_Document;
         end if;
      end Get_Item_By_U_P_C;

      package API_Get_Item_By_U_P_C is
         new Swagger.Servers.Operation (Handler => Get_Item_By_U_P_C,
                                        Method  => Swagger.Servers.GET,
                                        URI     => URI_Prefix & "/api/v1/upc/{upc}");

      procedure Register (Server : in out Swagger.Servers.Application_Type'Class) is
      begin
         Swagger.Servers.Register (Server, API_Convert_Code.Definition);
         Swagger.Servers.Register (Server, API_Get_Item_By_A_S_I_N.Definition);
         Swagger.Servers.Register (Server, API_Get_Item_By_E_A_N.Definition);
         Swagger.Servers.Register (Server, API_Get_Item_By_U_P_C.Definition);
      end Register;

      protected body Server is
         --  Convert between UPC, EAN, and ASIN product codes.
         procedure Convert_Code
            (Upc _Pipe ean _Pipe asin : in Swagger.UString;
             Result : out .Models.InlineResponse200Type;
             Context : in out Swagger.Servers.Context_Type) is
         begin
            Impl.Convert_Code
               (Upc _Pipe ean _Pipe asin,
                Result,
                Context);
         end Convert_Code;

         --  Find item by asin code
         procedure Get_Item_By_A_S_I_N
            (Asin : in Swagger.UString;
             Result : out .Models.ItemType;
             Context : in out Swagger.Servers.Context_Type) is
         begin
            Impl.Get_Item_By_A_S_I_N
               (Asin,
                Result,
                Context);
         end Get_Item_By_A_S_I_N;

         --  Find item by UPC code
         procedure Get_Item_By_E_A_N
            (Ean : in Swagger.UString;
             Result : out .Models.ItemType;
             Context : in out Swagger.Servers.Context_Type) is
         begin
            Impl.Get_Item_By_E_A_N
               (Ean,
                Result,
                Context);
         end Get_Item_By_E_A_N;

         --  Find item by UPC code
         procedure Get_Item_By_U_P_C
            (Upc : in Swagger.UString;
             Result : out .Models.ItemType;
             Context : in out Swagger.Servers.Context_Type) is
         begin
            Impl.Get_Item_By_U_P_C
               (Upc,
                Result,
                Context);
         end Get_Item_By_U_P_C;

      end Server;

   end Shared_Instance;

end .Skeletons;
